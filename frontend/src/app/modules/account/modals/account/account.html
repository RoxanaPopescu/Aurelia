<template>

    <require from="./components/profile-pane/profile-pane"></require>
    <require from="./components/settings-pane/settings-pane"></require>
    <require from="./components/security-pane/security-pane"></require>

    <require from="./account.scss"></require>

    <modal-backdrop close="all"></modal-backdrop>

    <modal-panel
        name="account"
        close-button.bind="true"
        close-shortcut.bind="true"
        discard-changes.bind="true"
        scroll
        validation
        validation.ref="validation">

        <modal-header scroll-fade>

            <h1 class="font-largest margin-bottom" tabindex="-1" autofocus="visible.bind: false">
                ${settingsModel.fullName & oneTime}
            </h1>

            <button appearance="solid" accent="negative" class="account-sign-out" page-href="/account/sign-out" translate>
                Sign out
            </button>

            <tab-nav appearance="tabs" class="font-large" value.bind="selectedTab">

                <tab name="profile" invalid.bind="profileValidation.invalid">
                    <h2 translate>
                        Profile
                    </h2>
                </tab>

                <tab name="settings" invalid.bind="settingsValidation.invalid">
                    <h2 translate>
                        Settings
                    </h2>
                </tab>

                <tab name="security" invalid.bind="securityValidation.invalid">
                    <h2 translate>
                        Security
                    </h2>
                </tab>

            </tab-nav>

        </modal-header>

        <profile-pane
            show.bind="selectedTab === 'profile'"
            model.bind="settingsModel"
            validation.ref="profileValidation">
        </profile-pane>

        <settings-pane
            show.bind="selectedTab === 'settings'"
            locales.bind="locales"
            locale.bind="locale"
            currencies.bind="currencies"
            currency.bind="currency"
            themes.bind="themes"
            theme.bind="theme"
            validation.ref="settingsValidation">
        </settings-pane>

        <security-pane
            show.bind="selectedTab === 'security'"
            delete-click.call="onDeleteClick()"
            validation.ref="securityValidation">
        </security-pane>

    </modal-panel>

</template>
