<template>

    <require from="./components/order-details/order-details"></require>
    <require from="./components/order-details-edit/order-details-edit"></require>
    <require from="./order.scss"></require>
    <modal-backdrop close="all"></modal-backdrop>

    <modal-panel name="collection-point-order" position="right" close-button.bind="true" close-shortcut.bind="true" scroll validation validation.ref="validation">

        <div if-claims="edit-orders" slot="actions">

            <button
                if.bind="!edit"
                appearance="icon"
                title.translate="Edit stop"
                click.trigger="onEditToggle()">
                <icon name="edit"></icon>
            </button>

            <button
                if.bind="edit"
                appearance="icon"
                title.translate="Save changes"
                click.trigger="onSaveClick()">
                <icon name="save"></icon>
            </button>

        </div>

        <order-details if.bind="!edit" model.bind="model"></order-details>

        <order-details-edit
            if.bind="edit"
            model.bind="model"
            on-save.call="onSaveClick()"
            on-cancel.call="onEditToggle()">
        </order-details-edit>

    </modal-panel>

</template>
