<template>

    <require from="app/components/address-input/address-input"></require>
    <require from="./create-collection-point.scss"></require>

    <modal-backdrop close="all"></modal-backdrop>

    <modal-panel name="collection-point" position="right" close-button.bind="true" close-shortcut.bind="true" scroll validation validation.ref="validation">

        <div slot="actions">

            <button
                if.bind="collectionPoint.id != null"
                appearance="icon"
                title.translate="Save changes"
                click.trigger="onSaveOrCreateClick()">
                <icon name="ico-save"></icon>
            </button>

        </div>

        <modal-header scroll-fade>

            <h1 class="font-largest" tabindex="-1" autofocus="visible.bind: false">

                <template if.bind="collectionPoint.id != null">
                    <span translate>
                        Edit collection point (${collectionPoint.id})
                    </span>
                </template>

                <template if.bind="collectionPoint.id == null" translate>
                    New collection point
                </template>

            </h1>

        </modal-header>

        <modal-section class="margin-larger-bottom">

            <div class="control-row margin-bottom">

                <text-input label="above" value.bind="collectionPoint.name" class="flex-basis-1-of-1">

                    <div slot="heading" translate>
                        Name
                    </div>
                    <div slot="validation">

                        <required-validator
                            value.bind="collectionPoint.name">
                        </required-validator>

                    </div>

                </text-input>

            </div>

            <div class="control-row">

                <address-input label="above" value.bind="collectionPoint.location.address" class="flex-basis-1-of-1">

                    <div slot="heading" translate>
                        Address
                    </div>

                    <div slot="validation">

                        <required-validator
                            value.bind="collectionPoint.location.address.primary">
                        </required-validator>

                    </div>

                </address-input>

            </div>

        </modal-section>

        <button
            if.bind="collectionPoint.id == null"
            class="margin-large-top"
            appearance="solid"
            accent="primary"
            click.trigger="onSaveOrCreateClick()"
            translate>
            Create collection point
        </button>

    </modal-panel>

</template>
