<template>

    <require from="./invite-connection.scss"></require>

    <modal-backdrop close="all"></modal-backdrop>

    <modal-panel name="invite-connection" position="right" close-button.bind="true" close-shortcut.bind="true" scroll validation validation.ref="validation">

        <modal-header scroll-fade>

            <h1 class="font-largest margin-bottom" tabindex="-1" autofocus="visible.bind: false" translate>
                Invite organization to connect
            </h1>

            <h2 class="font-large" translate>
                An email will be sent to the specified organization,<br>
                inviting them to connect with your organization.
            </h2>

        </modal-header>

        <modal-section class="margin-bottom">

            <div class="control-row">

                <slug-input value.bind="organizationId" label="above" class="flex-basis-1-of-1">

                    <div slot="heading" translate>
                        Organization ID
                    </div>

                    <div slot="description" translate>
                        This is the ID of the organization you are connecting to.<br>
                        Please ask your contact at the organization to provide this.
                    </div>

                    <div slot="validation">

                        <required-validator
                            value.bind="organizationId">
                        </required-validator>

                        <length-validator
                            value.bind="organizationId"
                            min.bind="36"
                            max.bind="36">
                        </length-validator>

                    </div>

                </slug-input>

            </div>

        </modal-section>

        <modal-section class="margin-bottom">

            <text-input value.bind="organization.name" label="above" readonly.bind="true" class="flex-basis-1-of-1">

                <div slot="heading" translate>
                    Organization name
                </div>

                <div slot="description" translate>
                    This is the name of the organization with the specified ID.<br>
                    Please verify that it matches the organization you intend to connect to.
                </div>

                <div if.bind="!!fetchOperation.pending" slot="after">
                    <busy-indicator></busy-indicator>
                </div>

                <div if.bind="!!fetchOperation.pending" slot="placeholder">
                    Please waitâ€¦
                </div>

            </text-input>

        </modal-section>

        <button appearance="solid" accent="primary" class="margin-large-top" disabled.bind="fetchOperation.pending" click.delegate="onSubmitClick()" translate>
            Send invite
        </button>

    </modal-panel>

</template>
