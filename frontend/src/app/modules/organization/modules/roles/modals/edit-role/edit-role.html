<template>

    <require from="app/components/address-input/address-input"></require>

    <modal-backdrop close="all"></modal-backdrop>

    <modal-panel name="edit-role" position="right" close-button.bind="true" close-shortcut.bind="true" scroll validation validation.ref="validation">

        <modal-header scroll-fade>

            <h1 class="font-largest margin-bottom" tabindex="-1" autofocus="visible.bind: false">

                <span if.bind="!role.id" translate>
                    New role
                </span>

                <span if.bind="role.id" translate>
                    Edit role
                </span>

            </h1>

            <h2 class="font-large" translate>
                Please specify the name and permissions for the role.
            </h2>

        </modal-header>

        <modal-section class="margin-bottom">

            <div class="control-row margin-large-bottom">

                <text-input value.bind="role.name" label="above" class="flex-basis-1-of-1">

                    <div slot="heading" translate>
                        Role name
                    </div>

                    <div slot="validation">

                        <required-validator
                            value.bind="role.name">
                        </required-validator>

                    </div>

                </text-input>

            </div>

            <div class="control-row">

                <tags-input label="above" value.bind="role.permissions" class="flex-basis-1-of-1">

                    <div slot="heading" translate>
                        Permissions
                    </div>

                    <item repeat.for="permission of availablePermissions" model.bind="permission">
                        ${permission.name}
                    </item>

                    <div slot="validation">

                        <required-validator
                            value.bind="role.permissions">
                        </required-validator>

                    </div>

                </tags-input>

            </div>

        </modal-section>

        <button appearance="solid" accent="primary" class="margin-large-top" click.delegate="onSubmitClick()">

            <span translate if.bind="!role.id">
                Create role
            </span>

            <span translate if.bind="role.id">
                Save changes
            </span>

        </button>

    </modal-panel>

</template>
