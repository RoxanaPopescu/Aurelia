<template>

    <require from="./geographic-area.scss"></require>

    <modal-backdrop close="all"></modal-backdrop>

    <modal-dialog name="geographic-area" position="right" close-button.bind="true" close-shortcut.bind="true" scroll validation validation.ref="validation">

        <modal-header scroll-fade>

            <h1 class="font-largest">

                <span if.bind="isNew" translate>
                    Create area
                </span>

                <span if.bind="!isNew" translate>
                    Edit area
                </span>

            </h1>

        </modal-header>

        <modal-section>

            <text-input label="above" value.bind="model.name" class="margin-large-bottom" autofocus>

                <div slot="heading" translate>
                    Name of the area
                </div>

                <div slot="validation">

                    <required-validator
                        value.bind="model.name">
                    </required-validator>

                </div>

            </text-input>

            <select-input label="above" value.bind="model.color" fixed.bind="true" none.bind="false" class="margin-large-bottom">

                <div slot="heading" translate>
                    Color of the area
                </div>

                <item repeat.for="index of 8" model.bind="index + 1" class="flex-row" style="align-items: center;">
                    ${index + 1}
                    <div css="background: var(--palette-color-data-${index + 1}); height: 1em; flex-grow: 1; margin-left: var(--size-inline-spacing-large); border: 1px solid white;"></div>
                </item>

                <div slot="validation">

                    <required-validator
                        value.bind="model.color">
                    </required-validator>

                </div>

            </select-input>

        </modal-section>

        <modal-footer>

            <div class="button-container">

                <button appearance="solid" accent="neutral" click.trigger="onCancelClick()" translate>
                    Cancel
                </button>

                <button appearance="outline" accent="primary" click.trigger="onDrawNewAreaClick()" translate>
                    Draw new area
                </button>

                <button appearance="solid" accent="primary" click.trigger="onSaveAndCloseClick()" translate>
                    Save and close
                </button>

            </div>

        </modal-footer>

    </modal-dialog>

</template>
