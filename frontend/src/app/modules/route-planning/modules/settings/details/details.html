<template>

    <require from="./details.scss"></require>
    <require from="./modules/general/general"></require>
    <require from="./modules/geographical-areas/geographical-areas"></require>
    <require from="./modules/vehicle-groups/vehicle-groups"></require>
    <require from="./modules/start-locations/start-locations"></require>
    <require from="./modules/task-times/task-times"></require>

    <page name="details">

        <page-content scroll scroll.ref="scroll">

            <page-header scroll-fade>

                <h1 class="font-largest margin-bottom">
                    <path-nav>

                        <span translate>
                            Fixme header in general story
                        </span>

                    </path-nav>
                </h1>

                <toolbar>

                    <tab-nav appearance="solid" value.bind="tab">

                        <tab page-href="path.bind: '/route-planning/settings/details/' + settingsId + '/general'" name="general" translate>
                            General
                        </tab>

                        <tab page-href="path.bind: '/route-planning/settings/details/' + settingsId + '/geographical-areas'" name="geographical-areas" translate>
                            Geographical areas
                        </tab>

                        <tab page-href="path.bind: '/route-planning/settings/details/' + settingsId + '/vehicle-groups'" name="vehicle-groups" translate>
                            Vehicle groups
                        </tab>

                        <tab page-href="path.bind: '/route-planning/settings/details/' + settingsId + '/start-locations'" name="start-locations" translate>
                            Start locations
                        </tab>

                        <tab page-href="path.bind: '/route-planning/settings/details/' + settingsId + '/task-times'" name="task-times" translate>
                            Task times
                        </tab>

                    </tab-nav>

                    <div class="flex-push-right control-row">

                        <button class="flex-basis-1-of-2" appearance="outline" accent="primary" click.trigger="onCancel()" translate>
                            Cancel
                        </button>

                        <button class="flex-basis-1-of-2" appearance="solid" accent="primary" click.trigger="onSave(model.routeStop.stopNumber - 1)" translate>
                            Update
                        </button>

                    </div>

                </toolbar>

            </page-header>

            <general if.bind="tab === 'general'"></general>

            <vehicle-groups if.bind="tab === 'vehicle-groups'"></vehicle-groups>

            <start-locations if.bind="tab === 'start-locations'"></start-locations>

            <task-times if.bind="tab === 'task-times'"></task-times>

            <geographical-areas if.bind="tab === 'geographical-areas'"></geographical-areas>

        </page-content>

    </page>

</template>
