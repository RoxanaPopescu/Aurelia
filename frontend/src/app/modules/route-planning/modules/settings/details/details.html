<template>

    <require from="./details.scss"></require>
    <require from="./modules/general/general"></require>
    <require from="./modules/geographical-areas/geographical-areas"></require>
    <require from="./modules/vehicle-groups/vehicle-groups"></require>
    <require from="./modules/start-locations/start-locations"></require>
    <require from="./modules/task-times/task-times"></require>

    <page name="settings-details">

        <page-content scroll scroll.ref="scroll" validation validation.ref="validation">

            <page-header scroll-fade>

                <h1 class="font-largest margin-bottom">
                    <path-nav>

                        <a accent="inherit" href="/route-planning/list" translate>
                            Route planning
                        </a>

                        <a accent="inherit" href="/route-planning/settings/list" translate>
                            Rule sets
                        </a>

                        <span>

                            <template if.bind="!isNew">
                                ${settings.name}
                            </template>

                            <template if.bind="isNew" translate>
                                New rule set
                            </template>

                        </span>

                    </path-nav>
                </h1>

                <toolbar>

                    <tab-nav appearance="solid" value.bind="tab">

                        <tab name="general" translate>
                            General
                        </tab>

                        <tab name="geographical-areas" translate>
                            Geographical areas
                        </tab>

                        <tab name="vehicle-groups" translate>
                            Vehicle groups
                        </tab>

                        <tab name="start-locations" translate>
                            Start locations
                        </tab>

                        <tab name="task-times" translate>
                            Task times
                        </tab>

                    </tab-nav>

                    <div class="flex-push-right control-row">

                        <button if.bind="isNew" class="flex-basis-1-of-2" appearance="outline" accent="primary" page-href="path: /route-planning/settings/list" translate>
                            Cancel
                        </button>

                        <button class="flex-basis-1-of-2" appearance="solid" accent="primary" click.trigger="onSave()">

                            <template if.bind="isNew" translate>
                                Create rule set
                            </template>

                            <template if.bind="!isNew" translate>
                                Save changes
                            </template>

                        </button>

                    </div>

                </toolbar>

            </page-header>

            <general if.bind="tab === 'general'"></general>

            <vehicle-groups if.bind="tab === 'vehicle-groups'"></vehicle-groups>

            <start-locations if.bind="tab === 'start-locations'"></start-locations>

            <task-times if.bind="tab === 'task-times'"></task-times>

            <geographical-areas if.bind="tab === 'geographical-areas'"></geographical-areas>

        </page-content>

    </page>

</template>
