<template>

    <require from="./round-definition-panel.scss"></require>

    <modal-backdrop close="all"></modal-backdrop>

    <modal-panel name="round-definition-panel" position="right" close-button.bind="true" close-shortcut.bind="true" scroll validation validation.ref="validation">

        <div slot="actions">

            <button
                appearance="icon"
                title.translate="Save changes"
                click.trigger="onSaveClick()">
                <icon name="save"></icon>
            </button>

        </div>

        <modal-header scroll-fade>

            <h1 class="font-largest" tabindex="-1" autofocus="visible.bind: false" translate>
                Edit round definition
            </h1>

        </modal-header>

        <modal-section>

            <h1 class="margin-large-bottom" translate>
                Here you can specify how much the driver can handle in each round. The number of laps corresponds to the number of times the driver must fetch goods from the vehicle to the location.
            </h1>

            <number-input value.bind="model.colliPerRound" min.bind="0" step.bind="1" constrain.bind="true" label="above" class="margin-medium-bottom">

                <div slot="heading" translate>
                    Colli per round
                </div>

                <span slot="after" class="opacity-faded" translate>
                    colli
                </span>

                <div slot="validation">

                    <required-validator
                        value.bind="model.colliPerRound">
                    </required-validator>

                    <range-validator
                        active.bind="true"
                        value.bind="model.colliPerRound"
                        min.bind="0"
                        min-inclusive.bind="false">
                    </range-validator>

                </div>

            </number-input>

            <number-input value.bind="model.weightPerRound" min.bind="0" label="above" class="margin-medium-bottom">

                <div slot="heading" translate>
                    Weight per round
                </div>

                <span slot="after" class="opacity-faded">
                    kg
                </span>

                <div slot="validation">

                    <required-validator
                        value.bind="model.weightPerRound">
                    </required-validator>

                    <range-validator
                        active.bind="true"
                        value.bind="model.weightPerRound"
                        min.bind="0"
                        min-inclusive.bind="false">
                    </range-validator>

                </div>

            </number-input>

            <number-input value.bind="model.volumePerRound" min.bind="0" label="above">

                <div slot="heading" translate>
                    Volume per round
                </div>

                <span slot="after" class="opacity-faded">
                    mÂ³
                </span>

                <div slot="validation">

                    <required-validator
                        value.bind="model.volumePerRound">
                    </required-validator>

                    <range-validator
                        active.bind="true"
                        value.bind="model.volumePerRound"
                        min.bind="0"
                        min-inclusive.bind="false">
                    </range-validator>

                </div>

            </number-input>

        </modal-section>

    </modal-panel>

</template>
