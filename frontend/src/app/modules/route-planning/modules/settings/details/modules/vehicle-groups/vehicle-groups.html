<template>

    <require from="./vehicle-groups.scss"></require>

    <page-section>

        <data-table
            appearance="rows"
            class="--reduce-header-whitespace">

            <data-table-headers>

                <data-table-cell>
                    <span class="text-truncate" translate>
                        Name
                    </span>
                </data-table-cell>

                <data-table-cell>
                    <span class="text-truncate" translate>
                        Vehicle type
                    </span>
                </data-table-cell>

                <data-table-cell>
                    <span class="text-truncate" translate>
                        Capacity
                    </span>
                </data-table-cell>

                <data-table-cell>
                    <span class="text-truncate" translate>
                        Max. stop count
                    </span>
                </data-table-cell>

                <data-table-cell>
                    <span class="text-truncate" translate>
                        Max. weight
                    </span>
                </data-table-cell>

                <data-table-cell>
                    <span class="text-truncate" translate>
                        Max.  distance
                    </span>
                </data-table-cell>

                <data-table-cell align="right">
                    <!-- Icons -->
                </data-table-cell>

            </data-table-headers>

            <template repeat.for="vehicleGroup of settings.vehicleGroups">

                <data-table-row
                    model.bind="vehicleGroup"
                    click.call="onVehicleGroupClick(vehicleGroup, false)">

                    <data-table-cell>
                        <div class="text-truncate">
                            ${vehicleGroup.name}
                        </div>
                    </data-table-cell>

                    <data-table-cell>
                        <span class="text-truncate">
                            ${vehicleGroup.vehicleType.name}
                        </span>
                    </data-table-cell>

                    <data-table-cell>
                        <span class="text-truncate">
                            ${vehicleGroup.limits.volume} mÂ³
                        </span>
                    </data-table-cell>

                    <data-table-cell>
                        <span class="text-truncate">
                            ${vehicleGroup.limits.stopCount}
                            <span translate>
                                stops
                            </span>
                        </span>
                    </data-table-cell>

                    <data-table-cell>
                        <span class="text-truncate">
                            ${vehicleGroup.limits.weight} kg
                        </span>
                    </data-table-cell>

                    <data-table-cell>
                        <span class="text-truncate">
                            ${vehicleGroup.limits.distance} km
                        </span>
                    </data-table-cell>

                    <data-table-cell align="right">

                        <div if.bind="!vehicleGroup.hidden" if-claims="edit-routes" class="icon-row">

                            <button
                                title.translate="Edit stop"
                                appearance="none"
                                accent="primary"
                                click.trigger="onVehicleGroupClick(vehicleGroup)">

                                <icon name="edit-small"></icon>

                            </button>

                            <button
                                title.translate="Cancel stop"
                                class="icon-row"
                                appearance="none"
                                accent="primary"
                                click.trigger="onRemoveVehicleGroupClick(vehicleGroup)">

                                <icon name="delete-small"></icon>

                            </button>

                        </div>

                    </data-table-cell>

                </data-table-row>

            </template>

        </data-table>

    </page-section>

</template>
