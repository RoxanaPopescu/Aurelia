<template>

    <require from="./components/routes-column/routes-column"></require>
    <require from="./components/drivers-column/drivers-column"></require>
    <require from="./components/map-column/map-column"></require>
    <require from="./components/info-column/info-column"></require>
    <require from="./components/merge-column/merge-column"></require>

    <require from="./express-dispatch.scss"></require>

    <page name="express-dispatch" class="express-dispatch--${workspace.tab}">

        <template if.bind="!workspace.isMerging">

            <tab-nav appearance="solid" value.bind="workspace.tab">

                <tab name="routes">
                    Routes
                </tab>

                <tab name="drivers">
                    Drivers
                </tab>

                <tab name="map">
                    Map
                </tab>

            </tab-nav>

            <routes-column workspace.bind="workspace" show.bind="workspace.tab == 'routes'"></routes-column>

            <drivers-column workspace.bind="workspace" show.bind="workspace.tab == 'drivers'"></drivers-column>

        </template>

        <template if.bind="workspace.isMerging">

            <tab-nav appearance="solid" value.bind="workspace.tab">

                <tab name="info">
                    Info
                </tab>

                <tab name="merge">
                    Stops
                </tab>

                <tab name="map">
                    Map
                </tab>

            </tab-nav>

            <info-column workspace.bind="workspace" show.bind="workspace.tab == 'info'"></info-column>

            <merge-column workspace.bind="workspace" show.bind="workspace.tab == 'merge'"></merge-column>

        </template>

        <map-column workspace.bind="workspace" class="${workspace.tab == 'map' ? '' : 'visibility-hidden'}"></map-column>

    </page>

</template>
