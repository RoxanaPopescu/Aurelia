<template theme-surface="primary" scroll class="${expanded ? '--expanded' : ''}">

    <require from="app/components/user-identity/user-identity"></require>
    <require from="app/components/app-logo/app-logo"></require>

    <require from="./app-sidebar.scss"></require>

    <header>

        <app-logo size.bind="expanded ? 'wide' : 'icon'" disabled.bind="disableDashboard"></app-logo>

        <a class="sidebar-link" modal-href="modal: starred">
            <icon name="starred"></icon>
            <span>Starred and recent</span>
        </a>

        <a class="sidebar-link" modal-href="modal: search">
            <icon name="search"></icon>
            <span>Search</span>
        </a>

        <slot name="header"></slot>

    </header>

    <section>

        <div
            repeat.for="navModel of navModels"
            class="${navModel.isActive ? '--active' : ''}">

            <a
                class="sidebar-link ${navModel.isActive ? '--active' : ''}"
                module-href="path.bind: navModel.href">

                <icon name.bind="navModel.config.icon"></icon>

                <span>${navModel.config.title}</span>

            </a>

            <div
                if.bind="navModel.isActive && childNavModels != null"
                class="sidebar-child-link-container">

                <a
                    repeat.for="navModel of childNavModels"
                    class="sidebar-child-link ${navModel.isActive ? '--active' : ''}"
                    module-href="path.bind: navModel.href">

                    <span>${navModel.config.title}</span>

                </a>

            </div>

        </div>

    </section>

    <footer>

        <slot name="footer"></slot>

        <a class="sidebar-link" modal-href="modal: notifications">
            <icon name="notifications">
                <badge>5</badge>
            </icon>
            <span>Notifications</span>
        </a>

        <a class="sidebar-link" modal-href="modal: confirm">
            <icon name="help"></icon>
            <span>Help and support</span>
        </a>

        <a class="sidebar-link" module-href="path: design">
            <icon name="md-style"></icon>
            <span>Design</span>
        </a>

        <a class="sidebar-link" click.trigger="toggleWidth()">
            <icon name="md-menu"></icon>
            <span>Toggle</span>
        </a>

        <user-identity size="icon"></user-identity>

    </footer>

    <div class="app-sidebar-shadow ${reduceShadow ? '--reduce-opacity' : ''}"></div>

</template>
