<template>

    <require from="./select-columns.scss"></require>

    <modal-backdrop close="all"></modal-backdrop>

    <modal-panel name="order-select-columns" position="right" close-button.bind="true" close-shortcut.bind="true" scroll>

        <div slot="actions">

            <button
                appearance="icon"
                title.translate="Save changes"
                click.trigger="onSaveClick()">
                <icon name="save"></icon>
            </button>

        </div>

        <modal-header scroll-fade>

            <h1 class="font-largest" translate>
                Choose list columns
            </h1>

        </modal-header>

        <modal-section if.bind="true" class="margin-bottom">

            <data-table
                appearance="rows"
                selection="multiple"
                move.call="onMoveColumn(source, target)">

                <data-table-row
                    repeat.for="columnInfo of columnInfos"
                    toggle.call="onToggleColumn(columnInfo.column, value)"
                    selected.bind="columnInfo.selected"
                    movable.bind="columnInfo.selected"
                    model.bind="columnInfo.column">

                    <data-table-cell>
                        <span class="text-truncate">
                            ${columnInfo.column.name}
                        </span>
                    </data-table-cell>

                    <data-table-cell class="select-columns-width-cell">
                        <select-input
                            if.bind="columnInfo.selected"
                            appearance="outline"
                            value.bind="columnInfo.column.width"
                            display-value.bind="columnInfo.column.width"
                            none.bind="false"
                            fixed.bind="true">
                            <item repeat.for="i of 5" model="${i + 1}fr">
                                ${i + 1}fr
                            </item>
                        </select-input>
                    </data-table-cell>

                </data-table-row>

            </data-table>

        </modal-section>

    </modal-panel>

</template>
