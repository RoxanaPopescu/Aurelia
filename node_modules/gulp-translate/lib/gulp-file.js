"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.GulpFile = void 0;
/**
 * Represents a file being processed by the plugin, implemented
 * as a wrapper around the Vinyl files used by Gulp.
 */
var GulpFile = /** @class */ (function () {
    /**
     * Creates a new instance of the GulpFile type.
     * @param vinyl The Vinyl instance to wrap.
     */
    function GulpFile(vinyl) {
        if (vinyl.isNull()) {
            throw new Error("File contents is null.");
        }
        if (!vinyl.isBuffer()) {
            throw new Error("File contents is not a buffer.");
        }
        this.vinyl = vinyl;
    }
    Object.defineProperty(GulpFile.prototype, "contents", {
        /**
         * Gets the contents of the file.
         */
        get: function () {
            return this.vinyl.contents.toString();
        },
        /**
         * Sets the contents of the file.
         * @param value The new file contents.
         */
        set: function (value) {
            this.vinyl.contents = Buffer.from(value);
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(GulpFile.prototype, "path", {
        /**
         * Gets or sets the absolute path of the file.
         */
        get: function () {
            return this.vinyl.path;
        },
        /**
         * Sets the absolute path of the file.
         * @param value The new file path.
         */
        set: function (value) {
            this.vinyl.path = value;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(GulpFile.prototype, "base", {
        /**
         * Gets the base path inferred from the glob that matched the file.
         */
        get: function () {
            return this.vinyl.base;
        },
        /**
         * Sets the base path inferred from the glob that matched the file.
         * @param value The new base path.
         */
        set: function (value) {
            this.vinyl.base = value;
        },
        enumerable: false,
        configurable: true
    });
    return GulpFile;
}());
exports.GulpFile = GulpFile;
//# sourceMappingURL=gulp-file.js.map